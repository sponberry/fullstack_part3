{"version":3,"sources":["services/numbers.js","components/Persons.js","components/AddForm.js","components/SearchForm.js","components/Notification.js","App.js","index.js"],"names":["url","newEntry","axios","post","then","response","data","get","entry","delete","status","updatedEntry","id","put","Persons","persons","entries","setPersons","setMessageConfig","deleteMsg","name","message","setTimeout","handleClick","e","idToDel","Number","target","value","find","p","window","confirm","phonebook","console","log","catch","error","filter","map","person","test","toLowerCase","number","onClick","AddForm","useState","newName","setNewName","newNumber","setNewNumber","resetMsg","successMsg","failMsg","onSubmit","event","preventDefault","currentEntry","element","updated","updatedData","concat","onChange","type","SearchForm","entriesToShow","setEntriesToShow","Notification","notificationStyle","color","display","fontStyle","fontSize","marginBottom","padding","border","style","App","messageConfig","re","RegExp","useEffect","allNumbers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dd14cd27.chunk.js","sourcesContent":["import axios from \"axios\"\n\nconst url = \"/api/persons\"\n\nconst getAll = () => {\n  const request = axios.get(url)\n  return request.then(response => response.data)\n}\n\nconst addNumber = newEntry => {\n  const request = axios.post(url, newEntry)\n  return request.then(response => response.data)\n}\n\nconst deleteNumber = entry => {\n  const request = axios.delete(`${url}/${entry}`)\n  return request.then(response => response.status)\n}\n\nconst update = (updatedEntry, id) => {\n  const request = axios.put(`${url}/${id}`, updatedEntry)\n  return request.then(response => response.data)\n}\n\n// eslint-disable-next-line\nexport default { addNumber, getAll, deleteNumber, update }","import React from \"react\"\nimport phonebook from \"../services/numbers\"\n\nconst Persons = ({ persons, entries, setPersons, setMessageConfig }) => {\n  const deleteMsg = (name, message) => {\n    setMessageConfig([\n      `${name} ${message}`,\n      \"red\"\n    ])\n    setTimeout(() => {\n      setMessageConfig(false)\n    }, 5000)\n  }\n  \n\n  const handleClick = (e) => {\n    let idToDel = Number(e.target.value)\n    let name = persons.find(p => p.id === idToDel).name\n    if (window.confirm(`This will delete ${name} permanently`)) {\n      phonebook.deleteNumber(idToDel)\n        .then(status => {\n          console.log(`Status ${status} on contact id ${idToDel}`)\n          deleteMsg(name, \"has been deleted from the server\")\n        })\n        .catch(error => {\n          deleteMsg(name, \"not found. Entry already been removed from the server\")\n        })\n        setPersons(persons.filter(p => p.id !== idToDel))\n    }}\n\n  return (\n    persons.map((person) => {\n    if (entries.test(person.name.toLowerCase())) {\n      return (\n      <li key={person.name}>\n        {person.name} {person.number}\n        <button onClick={handleClick} value={person.id}>delete</button>\n      </li>\n      )\n    } else { return null }\n  })\n  )}\n\nexport default Persons","import React, { useState } from \"react\"\nimport phonebook from \"../services/numbers\"\n\nconst AddForm = ({ persons, setPersons, setMessageConfig }) => {\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n  \n    const resetMsg = () => \n    setTimeout(() => {\n      setMessageConfig(false)\n    }, 5000)\n\n    const successMsg = () => {\n      setMessageConfig([\n        `Success! ${newName} has been successfully added to the phonebook`,\n        \"green\"\n      ])\n      resetMsg()\n    }\n    const failMsg = () => {\n      setMessageConfig([\n        `Information for ${newName} not found on server, please create a new contact`,\n        \"red\"\n      ])\n      resetMsg()\n    }\n\n    const handleSubmit = (event) => {\n      event.preventDefault();\n      const currentEntry = persons.find(element => element.name.toLowerCase() === newName.toLowerCase())\n      if (currentEntry) {\n        let confirmed = window.confirm(`${newName} is already an entry in the phonebook, replace number?`)\n        if (confirmed) {\n          phonebook.update({...currentEntry, number: newNumber}, currentEntry.id)\n          .then(updated => {\n            setPersons(persons.map(p => p.id !== updated.id ? p : updated))\n            successMsg()\n          })\n          .catch(error => {\n            failMsg()\n            setPersons(persons.filter(p => p.id !== currentEntry.id))\n          })\n        }\n      } else {\n        phonebook.addNumber({name: newName, number: newNumber})\n        .then(updatedData => {\n          setPersons(persons.concat(updatedData))\n          successMsg()\n        })\n        .catch(error => {\n          failMsg()\n          setPersons(persons.filter(p => p.id !== currentEntry.id))\n        })\n      }\n      setNewName(\"\")\n      setNewNumber(\"\")\n    }\n  \n    return (\n      <form onSubmit={handleSubmit}>\n          <div>\n            name: \n            <input value={newName} onChange={(e) => setNewName(e.target.value)} />\n          </div>\n          <div>\n            number:\n            <input value={newNumber} onChange={(e) => setNewNumber(e.target.value)} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n    )\n  }\n\n  export default AddForm","import React from \"react\"\n\nconst SearchForm = ({ entriesToShow, setEntriesToShow }) => (\n    <div>\n      filter shown with\n      <input value={entriesToShow} onChange={(e) => setEntriesToShow(e.target.value)} />\n    </div>\n  )\n  \nexport default SearchForm","import React from \"react\"\n\nconst Notification = ({ message }) => {\n  const notificationStyle = {\n    color: message[1],\n    display: \"inline-block\",\n    fontStyle: \"monospace\",\n    fontSize: 18,\n    marginBottom: 10,\n    padding: 10,\n    border: \"solid 2px\",\n  }\n\n  if (message) {\n    return <div style={notificationStyle}>{message[0]}</div>\n  } else {\n    return null\n  }\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from \"./components/Persons\"\nimport AddForm from \"./components/AddForm\"\nimport SearchForm from \"./components/SearchForm\"\nimport Notification from \"./components/Notification\"\nimport phonebook from \"./services/numbers\"\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [entriesToShow, setEntriesToShow] = useState('')\n  const [messageConfig, setMessageConfig] = useState(false)\n\n  let re = new RegExp(\".*\"+entriesToShow.toLowerCase()+\".*\")\n\n  useEffect(() => {\n    phonebook.getAll().then(\n      allNumbers => setPersons(allNumbers)\n    )}, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={messageConfig} />\n      <SearchForm entriesToShow={entriesToShow} setEntriesToShow={setEntriesToShow} />\n      <h2>Add new</h2>\n      <AddForm persons={persons} setPersons={setPersons} setMessageConfig={setMessageConfig} />\n      <h2>Numbers</h2>\n      <ul>\n        <Persons \n        persons={persons} \n        entries={re} \n        setPersons={setPersons} \n        setMessageConfig={setMessageConfig} />\n      </ul>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}