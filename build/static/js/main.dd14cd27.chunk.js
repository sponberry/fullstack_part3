(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(15),o=t.n(c),r=t(3),s=t(2),i=t(4),u=t.n(i),a="/api/persons",f=function(e){return u.a.post(a,e).then((function(e){return e.data}))},d=function(){return u.a.get(a).then((function(e){return e.data}))},j=function(e){return u.a.delete("".concat(a,"/").concat(e)).then((function(e){return e.status}))},l=function(e,n){return u.a.put("".concat(a,"/").concat(n),e).then((function(e){return e.data}))},b=t(0),h=function(e){var n=e.persons,t=e.entries,c=e.setPersons,o=e.setMessageConfig,r=function(e,n){o(["".concat(e," ").concat(n),"red"]),setTimeout((function(){o(!1)}),5e3)},s=function(e){var t=Number(e.target.value),o=n.find((function(e){return e.id===t})).name;window.confirm("This will delete ".concat(o," permanently"))&&(j(t).then((function(e){console.log("Status ".concat(e," on contact id ").concat(t)),r(o,"has been deleted from the server")})).catch((function(e){r(o,"not found. Entry already been removed from the server")})),c(n.filter((function(e){return e.id!==t}))))};return n.map((function(e){return t.test(e.name.toLowerCase())?Object(b.jsxs)("li",{children:[e.name," ",e.number,Object(b.jsx)("button",{onClick:s,value:e.id,children:"delete"})]},e.name):null}))},m=t(6),O=function(e){var n=e.persons,t=e.setPersons,c=e.setMessageConfig,o=Object(s.useState)(""),i=Object(r.a)(o,2),u=i[0],a=i[1],d=Object(s.useState)(""),j=Object(r.a)(d,2),h=j[0],O=j[1],p=function(){return setTimeout((function(){c(!1)}),5e3)},v=function(){c(["Success! ".concat(u," has been successfully added to the phonebook"),"green"]),p()},g=function(){c(["Information for ".concat(u," not found on server, please create a new contact"),"red"]),p()};return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=n.find((function(e){return e.name.toLowerCase()===u.toLowerCase()}));c?window.confirm("".concat(u," is already an entry in the phonebook, replace number?"))&&l(Object(m.a)(Object(m.a)({},c),{},{number:h}),c.id).then((function(e){t(n.map((function(n){return n.id!==e.id?n:e}))),v()})).catch((function(e){g(),t(n.filter((function(e){return e.id!==c.id})))})):f({name:u,number:h}).then((function(e){t(n.concat(e)),v()})).catch((function(e){g(),t(n.filter((function(e){return e.id!==c.id})))}));a(""),O("")},children:[Object(b.jsxs)("div",{children:["name:",Object(b.jsx)("input",{value:u,onChange:function(e){return a(e.target.value)}})]}),Object(b.jsxs)("div",{children:["number:",Object(b.jsx)("input",{value:h,onChange:function(e){return O(e.target.value)}})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"add"})})]})},p=function(e){var n=e.entriesToShow,t=e.setEntriesToShow;return Object(b.jsxs)("div",{children:["filter shown with",Object(b.jsx)("input",{value:n,onChange:function(e){return t(e.target.value)}})]})},v=function(e){var n=e.message,t={color:n[1],display:"inline-block",fontStyle:"monospace",fontSize:18,marginBottom:10,padding:10,border:"solid 2px"};return n?Object(b.jsx)("div",{style:t,children:n[0]}):null},g=function(){var e=Object(s.useState)([]),n=Object(r.a)(e,2),t=n[0],c=n[1],o=Object(s.useState)(""),i=Object(r.a)(o,2),u=i[0],a=i[1],f=Object(s.useState)(!1),j=Object(r.a)(f,2),l=j[0],m=j[1],g=new RegExp(".*"+u.toLowerCase()+".*");return Object(s.useEffect)((function(){d().then((function(e){return c(e)}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Phonebook"}),Object(b.jsx)(v,{message:l}),Object(b.jsx)(p,{entriesToShow:u,setEntriesToShow:a}),Object(b.jsx)("h2",{children:"Add new"}),Object(b.jsx)(O,{persons:t,setPersons:c,setMessageConfig:m}),Object(b.jsx)("h2",{children:"Numbers"}),Object(b.jsx)("ul",{children:Object(b.jsx)(h,{persons:t,entries:g,setPersons:c,setMessageConfig:m})})]})};t(39);o.a.render(Object(b.jsx)(g,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.dd14cd27.chunk.js.map